{"title":"Es6å­¦ä¹ ç¬”è®°ï¼šç®­å¤´å‡½æ•°","date":"2019-04-30T09:24:47.000Z","link":"post/ES6ä¹‹ç®­å¤´å‡½æ•°","tags":["css","es6","js","å‰ç«¯"],"updated":"2019-05-05T12:31:45.000Z","content":"<h2 id=\"ç®­å¤´å‡½æ•°-å®ƒé•¿è¿™æ ·-gt-æ˜¯ä¸æ˜¯å¾ˆæŠ½è±¡å‘¢ğŸ˜\">ç®­å¤´å‡½æ•° å®ƒé•¿è¿™æ ·    <code>=&gt;</code>  æ˜¯ä¸æ˜¯å¾ˆæŠ½è±¡å‘¢ğŸ˜<a href=\"post/ES6ä¹‹ç®­å¤´å‡½æ•°#ç®­å¤´å‡½æ•°-å®ƒé•¿è¿™æ ·-gt-æ˜¯ä¸æ˜¯å¾ˆæŠ½è±¡å‘¢ğŸ˜\"></a></h2><p>åœ¨Es6ä¸­ç®­å¤´å‡½æ•°æ˜¯å…¶ä¸­æœ€æœ‰è¶£çš„æ–°å¢ç‰¹æ€§é‚£ä¹ˆå®ƒæœ‰ä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ</p>\n<ol>\n<li><strong>æ²¡æœ‰thisã€superï¼ˆç‰¹çº§ï¼‰ã€argumentsï¼ˆå‚æ•°ï¼‰å’Œnew.targetç»‘å®š</strong> ç®­å¤´å‡½æ•°ä¸­çš„<strong>this</strong>ã€<strong>super</strong>ã€ä»¥åŠ<strong>new.target</strong>è¿™äº›å€¼ç”±å¤–å›´æœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°å†³å®š</li>\n<li><strong>ä¸èƒ½é€šè¿‡newå…³é”®å­—è°ƒç”¨ç®­å¤´å‡½æ•°æ²¡æœ‰[[construct]]æ–¹æ³•</strong>ï¼Œæ‰€ä»¥ä¸èƒ½è¢«ç”¨ä½œæ„é€ å‡½æ•°ï¼Œå¦‚æœé€šè¿‡newå…³é”®å­—è°ƒç”¨ç®­å¤´å‡½æ•°ï¼Œç¨‹åºä¼šæŠ›å‡ºé”™è¯¯</li>\n</ol>\n<blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"keyword\">var</span> Foo = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;&#125;;</span><br><span class=\"line\">&gt; <span class=\"keyword\">var</span> foo = <span class=\"keyword\">new</span> Foo(); <span class=\"comment\">// TypeError: Foo is not a constructor</span></span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ol>\n<li><strong>æ²¡ç”¨åŸå½¢ç”±äºä¸èƒ½é€šè¿‡newå…³é”®å­—è°ƒç”¨ç®­å¤´å‡½æ•°</strong>ï¼Œå› è€Œæ²¡æœ‰æ„å»ºåŸå‹çš„éœ€æ±‚æ‰€ä»¥ç®­å¤´å‡½æ•°ä¸å­˜åœ¨prototypeè¿™ä¸ªå±æ€§</li>\n</ol>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; <span class=\"keyword\">var</span> Foo = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;&#125;;</span><br><span class=\"line\">&gt; <span class=\"built_in\">console</span>.log(Foo.prototype); <span class=\"comment\">// undefined</span></span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<ol>\n<li>ä¸æ”¯æŒ<strong>arguments</strong> å¯¹è±¡ç®­å¤´å‡½æ•°<strong>æ²¡æœ‰argumentsç»‘å®š</strong>ï¼Œæ‰€ä»¥ä½ å¿…é¡»é€šè¿‡å‘½åå‚æ•°å’Œä¸å®šå‚æ•°è¿™ä¸¤ç§å½¢å¼è®¿é—®å‡½æ•°çš„å‚æ•°</li>\n<li><strong>ä¸æ”¯æŒé‡å¤å‘½åå‚æ•°</strong> æ— è®ºåœ¨ä¸¥æ ¼è¿˜æ˜¯éä¸¥æ ¼æ¨¡å¼ä¸‹ç®­å¤´å‡½æ•°éƒ½ä¸èƒ½æ”¯æŒé‡å¤çš„å‘½åå‚æ•°ï¼›è€Œåœ¨ä¼ ç»Ÿå‡½æ•°çš„è§„å®šä¸­åªæœ‰åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰ä¸èƒ½æœ‰é‡å¤çš„å‘½åå‚æ•°</li>\n</ol>\n<h2 id=\"ç®­å¤´å‡½æ•°çš„çš„å¤§å‹é€‰ç¾ç°åœºğŸ‘™\">ç®­å¤´å‡½æ•°çš„çš„å¤§å‹é€‰ç¾ç°åœºğŸ‘™<a href=\"post/ES6ä¹‹ç®­å¤´å‡½æ•°#ç®­å¤´å‡½æ•°çš„çš„å¤§å‹é€‰ç¾ç°åœºğŸ‘™\"></a></h2><p>ä¸€å·ä½³ä¸½ğŸ±    å½“ä½ åªæœ‰å•ä¸€å‚æ•°å’Œåªéœ€è¦è¿”å›ç®€å•çš„å€¼æ—¶å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¿™ç§</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let refletct = value =&gt; value;</span><br><span class=\"line\"></span><br><span class=\"line\">\tç­‰ä»·äº</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tlet reflect = funciton(value)&#123;</span><br><span class=\"line\">\t\t\treturn value;</span><br><span class=\"line\">\t\t&#125;</span><br></pre></td></tr></table></figure>\n<p>äºŒå·ä½³ä¸½ğŸ¶    ä¸¤ä¸ªä»¥ä¸Šçš„å°±æ¯”è¾ƒè±ªæ°”å•¦ï¼å¼„ä¸ªæ‹¬å·åŒ…èµ·æ¥æ¯•ç«Ÿä¸åƒ single dogå˜›ğŸ˜‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let sum = (num1 , num2) =&gt; num1 + num2</span><br><span class=\"line\"></span><br><span class=\"line\">\tç­‰ä»·äº</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tlet sum = function(num1 , num2)&#123;</span><br><span class=\"line\">\t\treturn sum1 + sum2</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¸‰å·ä½³ä¸½ğŸƒâ€â™€ï¸    å› ä¸ºè·‘æ­¥å•¥ä¹Ÿæ²¡å¸¦æ‰€ä»¥æˆ‘ä»¬å•¥ä¹Ÿä¸ç”¨ä¼ é‚£ä¹ˆè¦æ€ä¹ˆå†™å‘¢â“</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let sum = ( ) =&gt; &apos;hellow world&apos;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tç­‰ä»·äº</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tlet sum = function()&#123;</span><br><span class=\"line\">\t\treturn &apos;hellow world&apos;</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n<p>å››å·ä½³ä¸½ğŸƒ    è‰²å³æ˜¯ç©ºï¼ŒğŸˆ³ï¸å³æ˜¯è‰²</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let sum =( ) =&gt; &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tç­‰ä»·äº</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tlet sum = function()&#123;</span><br><span class=\"line\">\t\t//....</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n<p>äº”å·ä½³ä¸½ğŸ    èŠ±æ‹¬å·ä»£è¡¨å‡½æ•°ä½“çš„éƒ¨åˆ†å¦‚æœæƒ³åœ¨ç®­å¤´å‡½æ•°å¤–è¿”å›ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ï¼Œåˆ™éœ€è¦å°†è¯¥å­—é¢é‡åŒ…æ‹¬åœ¨å°æ‹¬å·é‡Œ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let getTempItem = id =&gt;(&#123;\tid:id, name:&quot;Temp&quot;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">\tç­‰ä»·äº</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tlet sum = function(id)&#123;</span><br><span class=\"line\">\t\treturn\t&#123;</span><br><span class=\"line\">\t\t\tid:id,</span><br><span class=\"line\">\t\t\tname:&quot;Temp&quot;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä¸ç»‘å®šThis\">ä¸ç»‘å®šThis<a href=\"post/ES6ä¹‹ç®­å¤´å‡½æ•°#ä¸ç»‘å®šThis\"></a></h2><p>åœ¨ç®­å¤´å‡½æ•°å‡ºç°ä¹‹å‰ï¼Œæ¯ä¸ªæ–°å®šä¹‰çš„å‡½æ•°éƒ½æœ‰å®ƒè‡ªå·±çš„ <code>this</code>å€¼ï¼ˆåœ¨æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼çš„å‡½æ•°è°ƒç”¨ä¸­ä¸º undefinedï¼Œå¦‚æœè¯¥å‡½æ•°è¢«ä½œä¸ºâ€œå¯¹è±¡æ–¹æ³•â€è°ƒç”¨åˆ™ä¸ºåŸºç¡€å¯¹è±¡ç­‰ï¼‰ã€‚<code>This</code>è¢«è¯æ˜æ˜¯ä»¤äººåŒçƒ¦çš„é¢å‘å¯¹è±¡é£æ ¼çš„ç¼–ç¨‹ã€‚</p>\n<p>âš ï¸ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„<code>this,</code>å®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿ <code>this</code> </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.age = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  setInterval(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.age++; <span class=\"comment\">// |this| æ­£ç¡®åœ°æŒ‡å‘ p å®ä¾‹</span></span><br><span class=\"line\">  &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> Person();</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæŒ‡å‘é”™è¯¯é™¤äº†ä½¿ç”¨ç®­å¤´å‡½æ•°è¿˜å¯ä»¥æŠŠå€¼åˆ†é…ç»™å°é—­çš„å˜é‡ï¼Œå¯ä»¥è§£å†³<code>this</code>é—®é¢˜</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> that = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">  that.age = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  setInterval(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">growUp</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//  å›è°ƒå¼•ç”¨çš„æ˜¯`that`å˜é‡, å…¶å€¼æ˜¯é¢„æœŸçš„å¯¹è±¡. </span></span><br><span class=\"line\">    that.age++;</span><br><span class=\"line\">  &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"å‡½æ•°çš„å†™æ³•\">å‡½æ•°çš„å†™æ³•<a href=\"post/ES6ä¹‹ç®­å¤´å‡½æ•°#å‡½æ•°çš„å†™æ³•\"></a></h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> func = <span class=\"function\"><span class=\"params\">x</span> =&gt;</span> x * x;                  </span><br><span class=\"line\"><span class=\"comment\">// ç®€å†™å‡½æ•° çœç•¥return</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> func = <span class=\"function\">(<span class=\"params\">x, y</span>) =&gt;</span> &#123; <span class=\"keyword\">return</span> x + y; &#125;; </span><br><span class=\"line\"><span class=\"comment\">//å¸¸è§„ç¼–å†™ æ˜ç¡®çš„è¿”å›å€¼</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"ç®­å¤´å‡½æ•°ä¹Ÿèƒ½ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼\">ç®­å¤´å‡½æ•°ä¹Ÿèƒ½ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼<a href=\"post/ES6ä¹‹ç®­å¤´å‡½æ•°#ç®­å¤´å‡½æ•°ä¹Ÿèƒ½ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼\"></a></h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> simple = <span class=\"function\"><span class=\"params\">a</span> =&gt;</span> a &gt; <span class=\"number\">15</span> ? <span class=\"number\">15</span> : a;</span><br><span class=\"line\">simple(<span class=\"number\">16</span>); <span class=\"comment\">// 15</span></span><br><span class=\"line\">simple(<span class=\"number\">10</span>); <span class=\"comment\">// 10</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"æ›´ç®€æ˜çš„promiseé“¾\">æ›´ç®€æ˜çš„promiseé“¾<a href=\"post/ES6ä¹‹ç®­å¤´å‡½æ•°#æ›´ç®€æ˜çš„promiseé“¾\"></a></h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">promise.then(<span class=\"function\"><span class=\"params\">a</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;).then(<span class=\"function\"><span class=\"params\">b</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h4 id=\"ç®­å¤´å‡½æ•°è¿›è¡Œæ’åº\">ç®­å¤´å‡½æ•°è¿›è¡Œæ’åº<a href=\"post/ES6ä¹‹ç®­å¤´å‡½æ•°#ç®­å¤´å‡½æ•°è¿›è¡Œæ’åº\"></a></h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">arr.sort(<span class=\"function\">(<span class=\"params\">x, y</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> x-y</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr); <span class=\"comment\">// [1, 2, 10, 20]</span></span><br><span class=\"line\"></span><br><span class=\"line\">arr.sort(<span class=\"function\">(<span class=\"params\">x, y</span>) =&gt;</span> x-y);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(arr); <span class=\"comment\">// [1, 2, 10, 20]</span></span><br></pre></td></tr></table></figure>\n<p>å‚è€ƒèµ„æ–™ï¼šæ·±å…¥äº†è§£ES6</p>\n<p>â€‹                    <a href=\"https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001438565969057627e5435793645b7acaee3b6869d1374000\" target=\"_blank\" rel=\"noopener\">å»–é›ªå³°</a></p>\n<p>â€‹                    <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" target=\"_blank\" rel=\"noopener\">MDN web docs</a></p>\n<p>æœ‰å¾…æ›´æ–°</p>\n<p>ğŸ‘ğŸ‘ç‚¹æˆ‘<a href=\"https://github.com/ragnar-document/ragnar-document.github.io/issues\" target=\"_blank\" rel=\"noopener\">æissue</a></p>\n","prev":{"title":"Es6å­¦ä¹ ç¬”è®°ï¼šè¿™å°±æ˜¯This ï¼ˆä¸Šï¼‰","link":"post/Es6ä¹‹å…³äºthis ï¼ˆä¸Šï¼‰"},"next":{"title":"CSSå‘½åè§„èŒƒæŒ‡å—_BEMé£æ ¼","link":"post/CSSå‘½åè§„èŒƒæŒ‡å—_BEMé£æ ¼"},"plink":"http://yoursite.com/post/ES6ä¹‹ç®­å¤´å‡½æ•°/","toc":[{"title":"ç®­å¤´å‡½æ•° å®ƒé•¿è¿™æ ·    <code>=&gt;</code>  æ˜¯ä¸æ˜¯å¾ˆæŠ½è±¡å‘¢ğŸ˜","id":"ç®­å¤´å‡½æ•°-å®ƒé•¿è¿™æ ·-gt-æ˜¯ä¸æ˜¯å¾ˆæŠ½è±¡å‘¢ğŸ˜","index":"1"},{"title":"ç®­å¤´å‡½æ•°çš„çš„å¤§å‹é€‰ç¾ç°åœºğŸ‘™","id":"ç®­å¤´å‡½æ•°çš„çš„å¤§å‹é€‰ç¾ç°åœºğŸ‘™","index":"2"},{"title":"ä¸ç»‘å®šThis","id":"ä¸ç»‘å®šThis","index":"3"}]}